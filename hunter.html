<!DOCTYPE html>
<html>

<head>
    <title>Learning JavaScript</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
        integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
        crossorigin="anonymous"></script>
</head>

<body style="background-color: lightgray;">
    <div class="container-fluid">
        <h1 class="bg-success p-2 text-white">Find the mouse by Sai Dinesh Kopparthi</h1><br>
    </div>
    <div class="container">
        <div class="shadow p-2 mb-4 bg-primary text-white rounded">Click on the bushes to search for the mouse, beware
            the cat</div>
        <div class="shadow-lg p-3 mb-4 bg-info text-dark" id="bushes">Number of bushes checked is zero.</div>
        <div class="shadow p-2 mb-4 bg-primary text-white rounded" id="penalty">Penalty is zero.</div>
        <div class="shadow-lg p-3 mb-4 bg-info text-dark" onclick="help()">Click for help.</div>
        <div class="shadow p-2 mb-4 bg-primary text-white rounded" id="help">Help report</div>
        <input class="btn btn-primary" type="button" onclick="reset()" value="New Game">
    </div>
    <br>

    <div class="container">
        <div class="row">
            <div class="col-sm-2"><img id="one" onclick="check(0)" src="images/bush.jpg" height="150px" weight="150px">
            </div>
            <div class="col-sm-2"><img id="two" onclick="check(1)" src="images/bush.jpg" height="150px" weight="150px">
            </div>
            <div class="col-sm-2"><img id="three" onclick="check(2)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="four" onclick="check(3)" src="images/bush.jpg" height="150px" weight="150px">
            </div>
            <div class="col-sm-2"><img id="five" onclick="check(4)" src="images/bush.jpg" height="150px" weight="150px">
            </div>
            <div class="col-sm-2"><img id="six" onclick="check(5)" src="images/bush.jpg" height="150px" weight="150px">
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-2"><img id="seven" onclick="check(6)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="eight" onclick="check(7)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="nine" onclick="check(8)" src="images/bush.jpg" height="150px" weight="150px">
            </div>
            <div class="col-sm-2"><img id="ten" onclick="check(9)" src="images/bush.jpg" height="150px" weight="150px">
            </div>
            <div class="col-sm-2"><img id="eleven" onclick="check(10)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="twelve" onclick="check(11)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-2"><img id="thirteen" onclick="check(12)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="fourteen" onclick="check(13)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="fifteen" onclick="check(14)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="sixteen" onclick="check(15)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="seventeen" onclick="check(16)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="eighteen" onclick="check(17)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-2"><img id="nineteen" onclick="check(18)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="twenty" onclick="check(19)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="twentyone" onclick="check(20)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="twentytwo" onclick="check(21)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="twentythree" onclick="check(22)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
            <div class="col-sm-2"><img id="twentyfour" onclick="check(23)" src="images/bush.jpg" height="150px"
                    weight="150px"></div>
        </div>
    </div>

    <script>
        var ids = ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten", "eleven", "twelve", "thirteen", "fourteen", "fifteen", "sixteen", "seventeen", "eighteen", "nineteen", "twenty", "twentyone", "twentytwo", "twentythree", "twentyfour"]
        var checkCount = 0
        var penalty = 0
        var lastCheck = 0
        var mouseLocation = Math.floor(Math.random()*24)
        var catLocation = Math.floor(Math.random()*24)
        var gameOver = false

        function check(position) {
            if (gameOver) {
                return
            }
            else {
                let id = ids[position]
                if (position == mouseLocation) {
                    document.getElementById(id).src = "images/mouse.jpg"
                }
                else if (position == catLocation) {
                    document.getElementById(id).src = "images/tiger.jpg"
                }
                else {
                    document.getElementById(id).src = "images/grass.jpg"
                }
                checkCount++
                penalty++
                document.getElementById("bushes").innerHTML = "Number of bushes checked is " + checkCount + "."
                if(position == mouseLocation){
                    gameOver = true
                    penalty -= 3
                }
                if(position == catLocation){
                    gameOver = true
                    penalty += 4
                }
                document.getElementById("penalty").innerHTML = "Penalty is " + penalty + "."
                lastCheck = position
            }


        }

        function help(){
            let mouseRow = Math.floor(mouseLocation/6)
            let mouseColoumn = mouseLocation%6

            let catRow = Math.floor(catLocation/6)
            let catColoumn = catLocation%6

            let lastRow = Math.floor(lastCheck/6)
            let lastColoumn = lastCheck%6

            let checkRow1 = mouseRow - lastRow
            let checkColoumn1 = mouseColoumn - lastColoumn

            let checkRow2 = catRow - lastRow
            let checkColoumn2 = catColoumn - lastColoumn

            if((checkRow1 == 1 || checkRow1 == 0 || checkRow1 == -1) && (checkColoumn1 == 1 || checkColoumn1 == 0 || checkColoumn1 == -1)){
                document.getElementById("help").innerHTML = "squeek"
            }
            else if((checkRow2 == 1 || checkRow2 == 0 || checkRow2 == -1) && (checkColoumn2 == 1 || checkColoumn2 == 0 || checkColoumn2 == -1)){
                document.getElementById("help").innerHTML = "meow"
            }
            else{
                document.getElementById("help").innerHTML = "sorry, no help available"
            }
            penalty += 2
            document.getElementById("penalty").innerHTML = "Penalty is " + penalty + "."

        }

        function reset(){
            for(let i=0; i<ids.length; i++){
            document.getElementById(ids[i]).src = "images/bush.jpg"
            }
            checkCount = 0
            penalty = 0
            gameOver = false
            document.getElementById("bushes").innerHTML = "Number of bushes checked is zero."
            document.getElementById("penalty").innerHTML = "Penalty is zero."

            check(Math.floor(Math.random()*24))
        }

    </script>

</body>

</html>